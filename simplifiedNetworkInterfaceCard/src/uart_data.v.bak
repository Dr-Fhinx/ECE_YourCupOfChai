module uart_data(
input [9:0]hps_uart_rx,
input clock,
output [7:0]data_out,
output validation
);

uart_decoder decode(.hps_uart_rx_in(hps_uart_rx),.clock(clock),.test(validation),.valid_data_out(data_out));
endmodule

module uart_decoder(
input [9:0]hps_uart_rx_in,
input clock,
output reg test,
output reg [7:0]valid_data_out
);

always@(posedge clock or negedge hps_uart_rx_in[9])
begin
	if(!hps_uart_rx_in[9]) test<=0;
	else
	begin
		if(!hps_uart_rx_in[0]) test<=0;
		else
		begin
			for(int i = 8;i>0;i=i-1)
			begin 
				valid_data_out[8-i] <= hps_uart_rx_in[i];
			end
		end
	end
	
end
endmodule